"use strict";var user=document.getElementById("username"),pass=document.getElementById("password"),password1=document.getElementById("password1"),submitBtn=document.getElementById("submitBtn"),usernames_lock=!1,passwords_lock=!1;user.onblur=function(){var s=this.value;/^1[3|4|5|8][0-9]\d{4,8}$/.test(s)?ajax({url:"../php/checktel.php",data:{usernames:s},success:function(s){s=JSON.parse(s),console.log(s),s.error?(usernames_lock=!1,user.style.borderColor="red"):(usernames_lock=!0,user.style.borderColor="green"),alert(s.data)}}):(usernames_lock=!1,user.style.borderColor="red")},pass.onfocus=function(){password1.value=""},pass.onblur=function(){var s=password.value,e=/^(?=.*\d)(?=.*[a-zA-Z])[\da-zA-Z~!@#$%^&*]{6,18}$/;if(passwordTips.style.color=e.test(s)?"green":"red",!e.test(s))return password_lock=!1,void(passwordTips.style.color="red");password_lock=!0},password1.onblur=function(){var s=password.value,e=password1.value;if(!/^(?=.*\d)(?=.*[a-zA-Z])[\da-zA-Z~!@#$%^&*]{6,18}$/.test(e))return password_lock=!1,password1Tips.innerHTML="×",void(password1Tips.style.color="red");password1Tips.innerHTML=s===e?"√":"×",password1Tips.style.color=s===e?"green":"red",password_lock=s===e},submitBtn.onclick=function(){if(!usernames_lock||!password_lock)return console.log(tel_lock,password_lock),void alert("请重新检查");var s=user.value,e=password.value;console.log(e),ajax({url:"../php/register.php",data:{usernames:s,passwords:e},success:function(s){console.log(s),s.error?alert("注册失败"):(alert("注册成功"),window.location="../html/login.html")}})};
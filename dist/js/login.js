"use strict";!function(){var e=document.getElementById("username"),o=document.getElementById("password"),r=document.getElementById("remenberInp"),n=document.getElementById("loginBtn"),t=JSON.parse(localStorage.getItem("userinfo"));if(t){var l=t.username,s=t.password,a=t.isRemenber;e.value=l,o.value=s,r.checked=a}var u=!1,c=!1;e.onblur=function(){var e=this.value;/^1[3|4|5|8][0-9]\d{4,8}$/.test(e)?(u=!0,this.style.borderColor="green"):(u=!1,this.style.borderColor="red"),console.log(u)},o.onblur=function(){var e=this.value;/^(?=.*\d)(?=.*[a-zA-Z])[\da-zA-Z~!@#$%^&*]{6,18}$/.test(e)?(c=!0,this.style.borderColor="green"):(c=!1,this.style.borderColor="red"),console.log(c)},r.onchange=function(){var e=this.checked,o={username:username.value,password:password.value,isRemenber:e};e?localStorage.setItem("userinfo",JSON.stringify(o)):localStorage.removeItem("userinfo"),console.log(e)},n.onclick=function(){e.onblur(),o.onblur(),console.log(u,c),u&&c&&ajax({url:"../php/login.php",data:{username:e.value,password:o.value},success:function(e){e=JSON.parse(e),console.log(e.error),e.error?alert("用户名或密码错误"):window.location="../index.html"}})}}();